install (FILES "chunk.h" DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}/${CURRENT_INCLUDEDIR}")
set (LOCAL_SOURCES "${CMAKE_CURRENT_SOURCE_DIR}/chunk.c")

if (${TRALLOC_HAVE_PTHREAD_MUTEX})
    install (FILES "mutex.h" DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}/${CURRENT_INCLUDEDIR}")
    set (LOCAL_SOURCES ${LOCAL_SOURCES} "${CMAKE_CURRENT_SOURCE_DIR}/mutex.c")
endif()
if (${TRALLOC_HAVE_PTHREAD_SPINLOCK})
    install (FILES "spinlock.h" DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}/${CURRENT_INCLUDEDIR}")
    set (LOCAL_SOURCES ${LOCAL_SOURCES} "${CMAKE_CURRENT_SOURCE_DIR}/spinlock.c")
endif()

set (SOURCES ${SOURCES} ${LOCAL_SOURCES} PARENT_SCOPE)
