set (LOCAL_INCLUDES)
set (LOCAL_SOURCES)

if (${TALLOC_EXTENSIONS})
    set (LOCAL_INCLUDES ${LOCAL_INCLUDES} ${CMAKE_CURRENT_SOURCE_DIR}/chunk.h)
    set (LOCAL_SOURCES  ${LOCAL_SOURCES}  ${CMAKE_CURRENT_SOURCE_DIR}/chunk.c)
endif ()
    
if (${TALLOC_DESTRUCTOR})
    set (LOCAL_INCLUDES ${LOCAL_INCLUDES} ${CMAKE_CURRENT_SOURCE_DIR}/destructor.h)
    set (LOCAL_SOURCES  ${LOCAL_SOURCES}  ${CMAKE_CURRENT_SOURCE_DIR}/destructor.c)
endif ()

set (INCLUDES ${INCLUDES} ${LOCAL_INCLUDES} PARENT_SCOPE)
set (SOURCES  ${SOURCES}  ${LOCAL_SOURCES}  PARENT_SCOPE)